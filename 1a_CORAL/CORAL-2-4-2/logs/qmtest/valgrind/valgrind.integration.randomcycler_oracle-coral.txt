==xxxxx== Memcheck, a memory error detector
==xxxxx== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==xxxxx== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==xxxxx== Command: test_Integration_RandomCycler oracle:coral
==xxxxx== Parent PID: xxxxx
==xxxxx== 
--xxxxx-- 
--xxxxx-- Valgrind options:
--xxxxx--    -v
--xxxxx--    --leak-check=full
--xxxxx--    --show-reachable=yes
--xxxxx--    --error-limit=no
--xxxxx--    --log-file=/home/avalassi/CORAL/CORAL_2_3_26/src/logs/qmtest/valgrind/x86_64-slc5-gcc43-dbg/valgrind.integration.randomcycler_oracle-coral.txt
--xxxxx--    --suppressions=/home/avalassi/CORAL/CORAL_2_3_26/src/config/qmtest/valgrind.supp
--xxxxx--    --gen-suppressions=all
--xxxxx--    --num-callers=50
--xxxxx--    --track-origins=yes
--xxxxx-- Contents of /proc/version:
--xxxxx--   Linux version 2.6.18-308.20.1.el5 (mockbuild@lxdist03) (gcc version 4.1.2 20080704 (Red Hat 4.1.2-52)) #1 SMP Wed Nov 14 10:31:58 CET 2012
--xxxxx-- Arch and hwcaps: AMD64, amd64-sse3-cx16
--xxxxx-- Page sizes: currently 4096, max supported 4096
--xxxxx-- Valgrind library directory: /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/tests/bin/test_Integration_RandomCycler (0x400000)
--xxxxx-- Reading syms from /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/memcheck-amd64-linux (0x38000000)
--xxxxx--    object doesn't have a dynamic symbol table
--xxxxx-- Reading syms from /lib64/ld-2.5.so (0x3026000000)
--xxxxx-- Reading suppressions file: /home/avalassi/CORAL/CORAL_2_3_26/src/config/qmtest/valgrind.supp
--xxxxx-- Reading suppressions file: /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/default.supp
==xxxxx== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-xxxxx-by-avalassi-on-lxmrra5001.cern.ch
==xxxxx== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-xxxxx-by-avalassi-on-lxmrra5001.cern.ch
==xxxxx== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-xxxxx-by-avalassi-on-lxmrra5001.cern.ch
==xxxxx== 
==xxxxx== TO CONTROL THIS PROCESS USING vgdb (which you probably
==xxxxx== don't want to do, unless you know exactly what you're doing,
==xxxxx== or are doing some strange experiment):
==xxxxx==   /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/../../bin/vgdb --pid=xxxxx ...command...
==xxxxx== 
==xxxxx== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==xxxxx==   /path/to/gdb test_Integration_RandomCycler
==xxxxx== and then give GDB the following command
==xxxxx==   target remote | /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/../../bin/vgdb --pid=xxxxx
==xxxxx== --pid is optional if only one valgrind process is running
==xxxxx== 
--xxxxx-- REDIR: 0x3026014730 (strlen) redirected to 0x38045f87 (vgPlain_amd64_linux_REDIR_FOR_strlen)
--xxxxx-- Reading syms from /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/vgpreload_core-amd64-linux.so (0x4803000)
--xxxxx-- Reading syms from /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/vgpreload_memcheck-amd64-linux.so (0x4a05000)
--xxxxx-- REDIR: 0x3026014550 (index) redirected to 0x4a09690 (index)
--xxxxx-- REDIR: 0x3026014700 (strcmp) redirected to 0x4a09ff0 (strcmp)
--xxxxx-- Reading syms from /lib64/libdl-2.5.so (0x3027000000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralCommon.so (0x4c22000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralKernel.so (0x4c99000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_RelationalAccess.so (0x4cd7000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralBase.so (0x4d18000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Boost/1.48.0_python2.6/x86_64-slc5-gcc43-opt/lib/libboost_filesystem-gcc43-mt-1_48.so.1.48.0 (0x4d8e000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Boost/1.48.0_python2.6/x86_64-slc5-gcc43-opt/lib/libboost_date_time-gcc43-mt-1_48.so.1.48.0 (0x4fac000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Boost/1.48.0_python2.6/x86_64-slc5-gcc43-opt/lib/libboost_system-gcc43-mt-1_48.so.1.48.0 (0x51bd000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Boost/1.48.0_python2.6/x86_64-slc5-gcc43-opt/lib/libboost_thread-gcc43-mt-1_48.so.1.48.0 (0x53c0000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/CppUnit/1.12.1_p1/x86_64-slc5-gcc43-opt/lib/libcppunit-1.12.so.1 (0x55da000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/tests/lib/libtest_TestEnv.so (0x5822000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/gcc/4.3.6/x86_64-slc5/lib64/libstdc++.so.6.0.10 (0x588f000)
--xxxxx--    object doesn't have a symbol table
--xxxxx-- Reading syms from /lib64/libm-2.5.so (0x3026800000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/gcc/4.3.6/x86_64-slc5/lib64/libgcc_s.so.1 (0x5b96000)
--xxxxx--    object doesn't have a symbol table
--xxxxx-- Reading syms from /lib64/libpthread-2.5.so (0x3027400000)
--xxxxx-- Reading syms from /lib64/libc-2.5.so (0x3026400000)
--xxxxx-- Reading syms from /lib64/librt-2.5.so (0x3027800000)
--xxxxx-- REDIR: 0x3026479b80 (memset) redirected to 0x4a0b550 (memset)
--xxxxx-- REDIR: 0x302647afc0 (memcpy) redirected to 0x4a0a610 (memcpy)
--xxxxx-- REDIR: 0x3026478cc0 (rindex) redirected to 0x4a09480 (rindex)
--xxxxx-- REDIR: 0x594f950 (operator new(unsigned long)) redirected to 0x4a08fa2 (operator new(unsigned long))
--xxxxx-- REDIR: 0x30264788d0 (strlen) redirected to 0x4a09a10 (strlen)
--xxxxx-- REDIR: 0x3026478b50 (strncmp) redirected to 0x4a09e50 (strncmp)
--xxxxx-- REDIR: 0x3026478350 (strcmp) redirected to 0x4a09f30 (strcmp)
--xxxxx-- REDIR: 0x3026473760 (calloc) redirected to 0x4a0794e (calloc)
--xxxxx-- REDIR: 0x594e1a0 (operator delete(void*)) redirected to 0x4a07fab (operator delete(void*))
--xxxxx-- REDIR: 0x30264799e0 (memmove) redirected to 0x4a0b5f0 (memmove)
--xxxxx-- REDIR: 0x302647a6b0 (mempcpy) redirected to 0x4a0b8b0 (mempcpy)
--xxxxx-- REDIR: 0x3026433230 (setenv) redirected to 0x4a0bd40 (setenv)
--xxxxx-- REDIR: 0x30264781a0 (index) redirected to 0x4a09550 (index)
--xxxxx-- REDIR: 0x3026474060 (realloc) redirected to 0x4a0873a (realloc)
--xxxxx-- REDIR: 0x3026473b40 (malloc) redirected to 0x4a08689 (malloc)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_ConnectionService.so (0x61b0000)
--xxxxx-- REDIR: 0xffffffffff600000 (???) redirected to 0x38045f73 (vgPlain_amd64_linux_REDIR_FOR_vgettimeofday)
--xxxxx-- REDIR: 0x3026479090 (strstr) redirected to 0x4a0ba70 (strstr)
--xxxxx-- REDIR: 0x30264715f0 (free) redirected to 0x4a08299 (free)
--xxxxx-- REDIR: 0x3026478390 (strcpy) redirected to 0x4a09a50 (strcpy)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_RelationalService.so (0x6c48000)
--xxxxx-- REDIR: 0x3026015880 (stpcpy) redirected to 0x4a0b480 (stpcpy)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_XMLLookupService.so (0x6c6f000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/XercesC/3.1.1p1/x86_64-slc5-gcc43-opt/lib/libxerces-c-3.1.so (0x6ca1000)
--xxxxx-- REDIR: 0x3026479540 (bcmp) redirected to 0x4a0b190 (bcmp)
--xxxxx-- Reading syms from /usr/lib64/gconv/UTF-16.so (0x7260000)
--xxxxx--    object doesn't have a symbol table
--xxxxx-- REDIR: 0x302647ae60 (strcasecmp) redirected to 0x4a0c150 (strcasecmp)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_OracleAccess.so (0x7463000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1 (0x7615000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libnnz11.so (0x9ea6000)
--xxxxx-- Reading syms from /lib64/libnsl-2.5.so (0x302a000000)
--xxxxx-- Reading syms from /usr/lib64/libaio.so.1.0.1 (0xa285000)
--xxxxx--    object doesn't have a symbol table
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_XMLAuthenticationService.so (0xa486000)
--xxxxx-- REDIR: 0x3026478c10 (strncpy) redirected to 0x4a09bf0 (strncpy)
--xxxxx-- REDIR: 0x3026478ab0 (strncat) redirected to 0x4a09890 (strncat)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libociicus.so (0xa8b6000)
--xxxxx-- REDIR: 0x3026432b50 (putenv) redirected to 0x4a0bc20 (putenv)
--xxxxx-- REDIR: 0x30264789c0 (strnlen) redirected to 0x4a09990 (strnlen)
--xxxxx-- Reading syms from /usr/lib64/libnuma.so.1 (0x3026c00000)
--xxxxx--    object doesn't have a symbol table
--xxxxx-- REDIR: 0x302647bc20 (rawmemchr) redirected to 0x4a0b870 (rawmemchr)
--xxxxx-- REDIR: 0x30264793c0 (memchr) redirected to 0x4a0a0b0 (memchr)
--xxxxx-- REDIR: 0x302647aea0 (strncasecmp) redirected to 0x4a0c010 (strncasecmp)
--xxxxx-- REDIR: 0x302647bd70 (strchrnul) redirected to 0x4a0b840 (strchrnul)
--xxxxx-- REDIR: 0x302647acc0 (stpcpy) redirected to 0x4a0b210 (stpcpy)
--xxxxx-- Reading syms from /lib64/libnss_files-2.5.so (0xb3bb000)
--xxxxx-- Reading syms from /lib64/libnss_dns-2.5.so (0xb5c6000)
--xxxxx-- Reading syms from /lib64/libresolv-2.5.so (0x3029800000)
--xxxxx-- REDIR: 0x9f1dcb0 (_intel_fast_memcpy) redirected to 0x4a0ae80 (_intel_fast_memcpy)
--xxxxx-- REDIR: 0xffffffffff600400 (???) redirected to 0x38045f7d (vgPlain_amd64_linux_REDIR_FOR_vtime)
--xxxxx-- REDIR: 0x594fa80 (operator new[](unsigned long)) redirected to 0x4a08c1a (operator new[](unsigned long))
--xxxxx-- REDIR: 0x594e1e0 (operator delete[](void*)) redirected to 0x4a07c27 (operator delete[](void*))
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralAccess.so (0xefcf000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralStubs.so (0x1183c000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralSockets.so (0x118c0000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralServerBase.so (0x11950000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralMonitor.so (0x11977000)
==xxxxx== Warning: invalid file descriptor -1 in syscall close()
==xxxxx==    at 0x302740DA57: ??? (in /lib64/libpthread-2.5.so)
==xxxxx==    by 0x11925295: coral::CoralSockets::TcpSocket::close() (TcpSocket.cpp:528)
==xxxxx==    by 0x11904327: coral::CoralSockets::PacketSocket::close() (PacketSocket.cpp:204)
==xxxxx==    by 0x1191748A: coral::CoralSockets::SocketRequestHandler::~SocketRequestHandler() (SocketRequestHandler.cpp:171)
==xxxxx==    by 0x11915872: coral::CoralSockets::SocketClient::~SocketClient() (SocketClient.cpp:38)
==xxxxx==    by 0xEFFDA30: coral::CoralAccess::SocketClientWrapper::~SocketClientWrapper() (SocketClientWrapper.h:30)
==xxxxx==    by 0xEFFA91D: coral::CoralAccess::Connection::~Connection() (Connection.cpp:49)
==xxxxx==    by 0x61FD691: void boost::checked_delete<coral::IConnection>(coral::IConnection*) (checked_delete.hpp:34)
==xxxxx==    by 0x61FD996: boost::detail::sp_counted_impl_p<coral::IConnection>::dispose() (sp_counted_impl.hpp:78)
==xxxxx==    by 0x410FA3: boost::detail::sp_counted_base::release() (sp_counted_base_gcc_x86.hpp:145)
==xxxxx==    by 0x410FFF: boost::detail::shared_count::~shared_count() (shared_count.hpp:305)
==xxxxx==    by 0x61FC700: boost::shared_ptr<coral::IConnection>::~shared_ptr() (shared_ptr.hpp:165)
==xxxxx==    by 0x61FADDB: coral::ConnectionService::ConnectionHandle::~ConnectionHandle() (ConnectionHandle.cpp:35)
==xxxxx==    by 0x61FFE79: std::pair<std::string const, coral::ConnectionService::ConnectionHandle>::~pair() (stl_pair.h:73)
==xxxxx==    by 0x61FFEE8: __gnu_cxx::new_allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >::destroy(std::pair<std::string const, coral::ConnectionService::ConnectionHandle>*) (new_allocator.h:118)
==xxxxx==    by 0x61FFFC9: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::_M_destroy_node(std::_Rb_tree_node<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >*) (stl_tree.h:390)
==xxxxx==    by 0x620004E: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::_M_erase(std::_Rb_tree_node<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >*) (stl_tree.h:943)
==xxxxx==    by 0x6200034: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::_M_erase(std::_Rb_tree_node<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >*) (stl_tree.h:941)
==xxxxx==    by 0x6200081: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::clear() (stl_tree.h:697)
==xxxxx==    by 0x62000EA: std::multimap<std::string, coral::ConnectionService::ConnectionHandle, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::clear() (stl_multimap.h:519)
==xxxxx==    by 0x61FEEC8: coral::ConnectionService::ConnectionMap::clear() (ConnectionMap.cpp:84)
==xxxxx==    by 0x620337D: coral::ConnectionService::ConnectionPool::clearConnectionPool() (ConnectionPool.cpp:387)
==xxxxx==    by 0x6206E10: coral::ConnectionService::ConnectionPool::~ConnectionPool() (ConnectionPool.cpp:56)
==xxxxx==    by 0x6215690: coral::ConnectionService::ConnectionService::~ConnectionService() (ConnectionService.cpp:33)
==xxxxx==    by 0x4CB8E82: coral::RefCounted::removeReference() (RefCounted.h:33)
==xxxxx==    by 0x4CF9DA0: coral::IHandle<coral::IConnectionService>::~IHandle() (IHandle.h:71)
==xxxxx==    by 0x4CF9E0C: coral::Pimpl::Holder::~Holder() (ConnectionService.cpp:13)
==xxxxx==    by 0x4CF7C41: coral::ConnectionService::~ConnectionService() (ConnectionService.cpp:28)
==xxxxx==    by 0x3026433514: exit (in /lib64/libc-2.5.so)
==xxxxx==    by 0x302641D99A: (below main) (in /lib64/libc-2.5.so)
==xxxxx== Warning: invalid file descriptor -1 in syscall close()
==xxxxx==    at 0x302740DA57: ??? (in /lib64/libpthread-2.5.so)
==xxxxx==    by 0x11925295: coral::CoralSockets::TcpSocket::close() (TcpSocket.cpp:528)
==xxxxx==    by 0x11904327: coral::CoralSockets::PacketSocket::close() (PacketSocket.cpp:204)
==xxxxx==    by 0x1191748A: coral::CoralSockets::SocketRequestHandler::~SocketRequestHandler() (SocketRequestHandler.cpp:171)
==xxxxx==    by 0x11915872: coral::CoralSockets::SocketClient::~SocketClient() (SocketClient.cpp:38)
==xxxxx==    by 0xEFFDA30: coral::CoralAccess::SocketClientWrapper::~SocketClientWrapper() (SocketClientWrapper.h:30)
==xxxxx==    by 0xEFFA91D: coral::CoralAccess::Connection::~Connection() (Connection.cpp:49)
==xxxxx==    by 0x61FD691: void boost::checked_delete<coral::IConnection>(coral::IConnection*) (checked_delete.hpp:34)
==xxxxx==    by 0x61FD996: boost::detail::sp_counted_impl_p<coral::IConnection>::dispose() (sp_counted_impl.hpp:78)
==xxxxx==    by 0x410FA3: boost::detail::sp_counted_base::release() (sp_counted_base_gcc_x86.hpp:145)
==xxxxx==    by 0x410FFF: boost::detail::shared_count::~shared_count() (shared_count.hpp:305)
==xxxxx==    by 0x61FC700: boost::shared_ptr<coral::IConnection>::~shared_ptr() (shared_ptr.hpp:165)
==xxxxx==    by 0x61FADDB: coral::ConnectionService::ConnectionHandle::~ConnectionHandle() (ConnectionHandle.cpp:35)
==xxxxx==    by 0x61FFE79: std::pair<std::string const, coral::ConnectionService::ConnectionHandle>::~pair() (stl_pair.h:73)
==xxxxx==    by 0x61FFEE8: __gnu_cxx::new_allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >::destroy(std::pair<std::string const, coral::ConnectionService::ConnectionHandle>*) (new_allocator.h:118)
==xxxxx==    by 0x61FFFC9: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::_M_destroy_node(std::_Rb_tree_node<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >*) (stl_tree.h:390)
==xxxxx==    by 0x620004E: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::_M_erase(std::_Rb_tree_node<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >*) (stl_tree.h:943)
==xxxxx==    by 0x6200081: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::clear() (stl_tree.h:697)
==xxxxx==    by 0x62000EA: std::multimap<std::string, coral::ConnectionService::ConnectionHandle, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::clear() (stl_multimap.h:519)
==xxxxx==    by 0x61FEEC8: coral::ConnectionService::ConnectionMap::clear() (ConnectionMap.cpp:84)
==xxxxx==    by 0x620337D: coral::ConnectionService::ConnectionPool::clearConnectionPool() (ConnectionPool.cpp:387)
==xxxxx==    by 0x6206E10: coral::ConnectionService::ConnectionPool::~ConnectionPool() (ConnectionPool.cpp:56)
==xxxxx==    by 0x6215690: coral::ConnectionService::ConnectionService::~ConnectionService() (ConnectionService.cpp:33)
==xxxxx==    by 0x4CB8E82: coral::RefCounted::removeReference() (RefCounted.h:33)
==xxxxx==    by 0x4CF9DA0: coral::IHandle<coral::IConnectionService>::~IHandle() (IHandle.h:71)
==xxxxx==    by 0x4CF9E0C: coral::Pimpl::Holder::~Holder() (ConnectionService.cpp:13)
==xxxxx==    by 0x4CF7C41: coral::ConnectionService::~ConnectionService() (ConnectionService.cpp:28)
==xxxxx==    by 0x3026433514: exit (in /lib64/libc-2.5.so)
==xxxxx==    by 0x302641D99A: (below main) (in /lib64/libc-2.5.so)
==xxxxx== Warning: invalid file descriptor -1 in syscall close()
==xxxxx==    at 0x302740DA57: ??? (in /lib64/libpthread-2.5.so)
==xxxxx==    by 0x11925295: coral::CoralSockets::TcpSocket::close() (TcpSocket.cpp:528)
==xxxxx==    by 0x11904327: coral::CoralSockets::PacketSocket::close() (PacketSocket.cpp:204)
==xxxxx==    by 0x1191748A: coral::CoralSockets::SocketRequestHandler::~SocketRequestHandler() (SocketRequestHandler.cpp:171)
==xxxxx==    by 0x11915872: coral::CoralSockets::SocketClient::~SocketClient() (SocketClient.cpp:38)
==xxxxx==    by 0xEFFDA30: coral::CoralAccess::SocketClientWrapper::~SocketClientWrapper() (SocketClientWrapper.h:30)
==xxxxx==    by 0xEFFA91D: coral::CoralAccess::Connection::~Connection() (Connection.cpp:49)
==xxxxx==    by 0x61FD691: void boost::checked_delete<coral::IConnection>(coral::IConnection*) (checked_delete.hpp:34)
==xxxxx==    by 0x61FD996: boost::detail::sp_counted_impl_p<coral::IConnection>::dispose() (sp_counted_impl.hpp:78)
==xxxxx==    by 0x410FA3: boost::detail::sp_counted_base::release() (sp_counted_base_gcc_x86.hpp:145)
==xxxxx==    by 0x410FFF: boost::detail::shared_count::~shared_count() (shared_count.hpp:305)
==xxxxx==    by 0x61FC700: boost::shared_ptr<coral::IConnection>::~shared_ptr() (shared_ptr.hpp:165)
==xxxxx==    by 0x61FADDB: coral::ConnectionService::ConnectionHandle::~ConnectionHandle() (ConnectionHandle.cpp:35)
==xxxxx==    by 0x61FFE79: std::pair<std::string const, coral::ConnectionService::ConnectionHandle>::~pair() (stl_pair.h:73)
==xxxxx==    by 0x61FFEE8: __gnu_cxx::new_allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >::destroy(std::pair<std::string const, coral::ConnectionService::ConnectionHandle>*) (new_allocator.h:118)
==xxxxx==    by 0x61FFFC9: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::_M_destroy_node(std::_Rb_tree_node<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >*) (stl_tree.h:390)
==xxxxx==    by 0x620004E: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::_M_erase(std::_Rb_tree_node<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >*) (stl_tree.h:943)
==xxxxx==    by 0x6200081: std::_Rb_tree<std::string, std::pair<std::string const, coral::ConnectionService::ConnectionHandle>, std::_Select1st<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> >, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::clear() (stl_tree.h:697)
==xxxxx==    by 0x62000EA: std::multimap<std::string, coral::ConnectionService::ConnectionHandle, std::less<std::string>, std::allocator<std::pair<std::string const, coral::ConnectionService::ConnectionHandle> > >::clear() (stl_multimap.h:519)
==xxxxx==    by 0x61FEEC8: coral::ConnectionService::ConnectionMap::clear() (ConnectionMap.cpp:84)
==xxxxx==    by 0x620337D: coral::ConnectionService::ConnectionPool::clearConnectionPool() (ConnectionPool.cpp:387)
==xxxxx==    by 0x6206E10: coral::ConnectionService::ConnectionPool::~ConnectionPool() (ConnectionPool.cpp:56)
==xxxxx==    by 0x6215690: coral::ConnectionService::ConnectionService::~ConnectionService() (ConnectionService.cpp:33)
==xxxxx==    by 0x4CB8E82: coral::RefCounted::removeReference() (RefCounted.h:33)
==xxxxx==    by 0x4CF9DA0: coral::IHandle<coral::IConnectionService>::~IHandle() (IHandle.h:71)
==xxxxx==    by 0x4CF9E0C: coral::Pimpl::Holder::~Holder() (ConnectionService.cpp:13)
==xxxxx==    by 0x4CF7C41: coral::ConnectionService::~ConnectionService() (ConnectionService.cpp:28)
==xxxxx==    by 0x3026433514: exit (in /lib64/libc-2.5.so)
==xxxxx==    by 0x302641D99A: (below main) (in /lib64/libc-2.5.so)
--xxxxx-- Discarding syms at 0x7260560-0x7261cd8 in /usr/lib64/gconv/UTF-16.so due to munmap()
--xxxxx-- Discarding syms at 0xb3bcfe0-0xb3c3268 in /lib64/libnss_files-2.5.so due to munmap()
--xxxxx-- Discarding syms at 0xb5c6fe0-0xb5c9868 in /lib64/libnss_dns-2.5.so due to munmap()
--xxxxx-- Discarding syms at 0x3029803310-0x302980e368 in /lib64/libresolv-2.5.so due to munmap()
==xxxxx== 
==xxxxx== HEAP SUMMARY:
==xxxxx==     in use at exit: 1,080,187 bytes in 5,004 blocks
==xxxxx==   total heap usage: 707,755 allocs, 702,751 frees, 537,486,118 bytes allocated
==xxxxx== 
==xxxxx== Searching for pointers to 5,004 not-freed blocks
==xxxxx== Checked 4,344,296 bytes
==xxxxx== 
==xxxxx== 64 bytes in 1 blocks are still reachable in loss record 108 of 318
==xxxxx==    at 0x4A0870B: malloc (vg_replace_malloc.c:263)
==xxxxx==    by 0x302600D1F0: _dl_signal_error (in /lib64/ld-2.5.so)
==xxxxx==    by 0x302600D383: _dl_signal_cerror (in /lib64/ld-2.5.so)
==xxxxx==    by 0x3026009C9F: _dl_lookup_symbol_x (in /lib64/ld-2.5.so)
==xxxxx==    by 0x3026508EF3: do_sym (in /lib64/libc-2.5.so)
==xxxxx==    by 0x3027001103: dlsym_doit (in /lib64/libdl-2.5.so)
==xxxxx==    by 0x302600D0E5: _dl_catch_error (in /lib64/ld-2.5.so)
==xxxxx==    by 0x302700150C: _dlerror_run (in /lib64/libdl-2.5.so)
==xxxxx==    by 0x30270010B9: dlsym (in /lib64/libdl-2.5.so)
==xxxxx==    by 0x7FDD1B4: skgsn_setup_numa_lib (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x7FDCFBE: skgsninit (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x7FDC4AD: skgminit (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x7AC6FE4: kpuiniPG (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x7A941FE: kpumin (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x7A940B9: kpumgs (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x96745B0: ttcdrv (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x961C480: nioqwa (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x960A190: upirtrc (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x96107E1: kpurcsc (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x7ADA75E: kpudsany (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x7A9C077: OCIDescribeAny (in /cvmfs/sft.cern.ch/lcg/external/oracle/11.2.0.3.0/x86_64-slc5-gcc43-opt/lib/libclntsh.so.11.1)
==xxxxx==    by 0x7579828: coral::OracleAccess::Schema::existsTable(std::string const&) const (Schema.cpp:139)
==xxxxx==    by 0x756E915: coral::OracleAccess::Schema::dropIfExistsTable(std::string const&) (Schema.cpp:338)
==xxxxx==    by 0x418EFC: coral::RandomCycler::test_setup_T01() (test_integration_RandomCycler.cpp:258)
==xxxxx==    by 0x41CCDC: coral::RandomCycler::setUp() (test_integration_RandomCycler.cpp:412)
==xxxxx==    by 0x41333D: CppUnit::TestCaller<coral::RandomCycler>::setUp() (TestCaller.h:177)
==xxxxx==    by 0x5601ED9: CppUnit::TestCaseMethodFunctor::operator()() const (TestCase.cpp:32)
==xxxxx==    by 0x55F45F3: CppUnit::DefaultProtector::protect(CppUnit::Functor const&, CppUnit::ProtectorContext const&) (DefaultProtector.cpp:15)
==xxxxx==    by 0x55FE15E: CppUnit::ProtectorChain::protect(CppUnit::Functor const&, CppUnit::ProtectorContext const&) (ProtectorChain.cpp:77)
==xxxxx==    by 0x5609F31: CppUnit::TestResult::protect(CppUnit::Functor const&, CppUnit::Test*, std::string const&) (TestResult.cpp:178)
==xxxxx==    by 0x5601BC8: CppUnit::TestCase::run(CppUnit::TestResult*) (TestCase.cpp:87)
==xxxxx==    by 0x5602402: CppUnit::TestComposite::doRunChildTests(CppUnit::TestResult*) (TestComposite.cpp:64)
==xxxxx==    by 0x5602325: CppUnit::TestComposite::run(CppUnit::TestResult*) (TestComposite.cpp:23)
==xxxxx==    by 0x5602402: CppUnit::TestComposite::doRunChildTests(CppUnit::TestResult*) (TestComposite.cpp:64)
==xxxxx==    by 0x5602325: CppUnit::TestComposite::run(CppUnit::TestResult*) (TestComposite.cpp:23)
==xxxxx==    by 0x5609779: CppUnit::TestResult::runTest(CppUnit::Test*) (TestResult.cpp:145)
==xxxxx==    by 0x560BD31: CppUnit::TestRunner::run(CppUnit::TestResult&, std::string const&) (TestRunner.cpp:96)
==xxxxx==    by 0x560E98A: CppUnit::TextTestRunner::run(std::string, bool, bool, bool) (TextTestRunner.cpp:64)
==xxxxx==    by 0x424445: coral::CoralCppUnitTest::Main() (CoralCppUnitTest.h:172)
==xxxxx==    by 0x410D99: main (test_integration_RandomCycler.cpp:426)
==xxxxx== 
{
   <insert_a_suppression_name_here>
   Memcheck:Leak
   fun:malloc
   fun:_dl_signal_error
   fun:_dl_signal_cerror
   fun:_dl_lookup_symbol_x
   fun:do_sym
   fun:dlsym_doit
   fun:_dl_catch_error
   fun:_dlerror_run
   fun:dlsym
   fun:skgsn_setup_numa_lib
   fun:skgsninit
   fun:skgminit
   fun:kpuiniPG
   fun:kpumin
   fun:kpumgs
   fun:ttcdrv
   fun:nioqwa
   fun:upirtrc
   fun:kpurcsc
   fun:kpudsany
   fun:OCIDescribeAny
   fun:_ZNK5coral12OracleAccess6Schema11existsTableERKSs
   fun:_ZN5coral12OracleAccess6Schema17dropIfExistsTableERKSs
   fun:_ZN5coral12RandomCycler14test_setup_T01Ev
}
==xxxxx== LEAK SUMMARY:
==xxxxx==    definitely lost: 0 bytes in 0 blocks
==xxxxx==    indirectly lost: 0 bytes in 0 blocks
==xxxxx==      possibly lost: 0 bytes in 0 blocks
==xxxxx==    still reachable: 64 bytes in 1 blocks
==xxxxx==         suppressed: 1,080,123 bytes in 5,003 blocks
==xxxxx== 
==xxxxx== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 19009 from 503)
--xxxxx-- 
--xxxxx-- used_suppression:      1 <oracle112030_OCIServerVersion_kpuvers_ttcpro_alloc_FAKE_LEAK>
--xxxxx-- used_suppression:     37 <oracle112030_OCIServerAttach_kpuatch_alloc_FAKE_LEAK>
--xxxxx-- used_suppression:    218 <oracle112030_OCIEnvCreate_kpummpin_alloc_FAKE_LEAK>
--xxxxx-- used_suppression:      1 <oracle112030_OCIDescribeAny_kpummealloc_TOBECHECKED_LEAK>
--xxxxx-- used_suppression:      1 <oracle112030_OCIEnvCreate_lxldalc_FAKE_LEAK>
--xxxxx-- used_suppression:     50 <coral_PluginManager_loadLibrary_dlopen_alloc_FAKE_LEAK>
--xxxxx-- used_suppression:      1 <oracle112030_OCIDescribeAny_kpummapg_TOBECHECKED_LEAK>
--xxxxx-- used_suppression:      6 <oracle112030_OCIEnvCreate_dlopen_alloc_FAKE_LEAK>
--xxxxx-- used_suppression:      1 <oracle112030_OCISessionBegin_kpuauth_calloc_FAKE_LEAK>
--xxxxx-- used_suppression:      1 <boost_detail_get_once_per_thread_epoch_malloc_FAKE_LEAK>
--xxxxx-- used_suppression:      2 <oracle112030_OCISessionBegin_nassky_cond>
--xxxxx-- used_suppression:      4 <oracle112030_OCISessionBegin_intelfastmemcpy_cond>
--xxxxx-- used_suppression:      2 <oracle112030_OCISessionBegin_intelnewmemcpy_val8>
--xxxxx-- used_suppression:      4 <oracle112030_OCISessionBegin_intelnewmemcpy_cond>
--xxxxx-- used_suppression:     70 <oracle112030_OCISessionBegin_ztceb_unpadding_cond>
--xxxxx-- used_suppression:     96 <oracle112030_OCISessionBegin_ztceadecbk_val8>
--xxxxx-- used_suppression:    448 <oracle112030_OCISessionBegin_ztceai_val8>
--xxxxx-- used_suppression:    128 <oracle112030_OCISessionBegin_ztucbtx_val8>
--xxxxx-- used_suppression:    544 <oracle112030_OCISessionBegin_ztceaencbk_val8>
--xxxxx-- used_suppression:      2 <oracle112030_OCISessionBegin_kzsrepw_cond>
--xxxxx-- used_suppression:      2 <oracle112030_OCISessionBegin_ztvo5ke_val8>
--xxxxx-- used_suppression:      2 <oracle112030_OCISessionBegin_ztvo5ke_cond>
--xxxxx-- used_suppression:     18 <oracle112030_OCIAttrSet_A_X931RandomGenerateBytes_CMP_cond>
--xxxxx-- used_suppression:  14124 <oracle112030_OCIServerVersion_snttwrite_libpthread_param>
--xxxxx-- used_suppression:      2 <oracle112030_OCIServerAttach_snttwrite_libpthread_param>
--xxxxx-- used_suppression:      1 <oracle112030_OCIServerAttach_intelnewmemcpy_bug98791_INVALIDREAD_addr8>
--xxxxx-- used_suppression:    224 <oracle112030_OCIServerAttach_ztceaencbk_val8>
--xxxxx-- used_suppression:   1408 <oracle112030_OCIServerAttach_A_X931RandomGenerateBytes_CMP_cond>
--xxxxx-- used_suppression:    640 <oracle112030_OCIServerAttach_ztcedecb_val8>
--xxxxx-- used_suppression:   1277 <oracle112030_OCIServerAttach_ztced_einit_val8>
--xxxxx-- used_suppression:      7 dl-hack3
==xxxxx== 
==xxxxx== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 19009 from 503)
