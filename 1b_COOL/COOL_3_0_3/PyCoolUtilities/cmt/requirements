package PyCoolUtilities

#============================================================================
# Public dependencies and build rules
#============================================================================

# Define LCG patterns and define CMTINSTALLAREA correctly
use LCG_Policy v*

#============================================================================
# Private dependencies and build rules
#============================================================================

private

#----------------------------------------------------------------------------
# Tests
#----------------------------------------------------------------------------

# Create the tests/bin directory if it does not exist (bug #103346)
apply_pattern lcg_cond_mkdir dir=$(PyCoolUtilities_cmtpath)/../$(tag)/tests/bin
macro_append tests_constituents " lcg_mkdir "
macro tests_dependencies "lcg_mkdir" 

# Copy Regression/*.py from the tests directory
action regression "mkdir -p $(PyCoolUtilities_cmtpath)/../$(tag)/tests/bin/Regression; cp -dpr ../tests/Regression/*.py $(PyCoolUtilities_cmtpath)/../$(tag)/tests/bin/Regression/."
macro_append regression_dependencies " lcg_mkdir "
macro_append tests_dependencies " regression "

# Copy test_*.py from the tests directory
apply_pattern lcg_test_python

# Fake target for utilities
action utilities "echo No utilities in this package"
macro_remove cmt_actions_constituents "utilities"

# Fake target for examples
action examples "echo No examples in this package"
macro_remove cmt_actions_constituents "examples"
