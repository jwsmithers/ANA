package Examples

#============================================================================
# Public dependencies and build rules
#============================================================================

use CoolKernel v*
use CoolApplication v*

#----------------------------------------------------------------------------
# Library
#----------------------------------------------------------------------------

include_path none

#============================================================================
# Private dependencies and build rules
#============================================================================

private

#----------------------------------------------------------------------------
# Examples
#----------------------------------------------------------------------------

include_dirs ../Libraries/ExampleBase

# Link the CORAL relational libraries
apply_tag NEEDS_CORAL_RELATIONAL_ACCESS

# Library needed by many examples
apply_pattern lcg_example_library name=ExampleBase files=../Libraries/ExampleBase/src/*.cpp

# Define the pattern for examples in COOL
pattern cool_example \
  apply_pattern lcg_example_application name=Cool_<name> files=../<name>/src/*.cpp ; macro_append example_Cool_<name>_dependencies " example_ExampleBase "

# The examples
apply_pattern cool_example name=DBAliases
apply_pattern cool_example name=MCBulkRetrieval
apply_pattern cool_example name=MVstorage
apply_pattern cool_example name=ReTag
apply_pattern cool_example name=SharedConnection
apply_pattern cool_example name=SharedConnection2
apply_pattern cool_example name=SimpleRead
apply_pattern cool_example name=SimpleWrite
apply_pattern cool_example name=SVstorage
apply_pattern cool_example name=UseCases
apply_pattern cool_example name=UseChannels
apply_pattern cool_example name=UseClob
apply_pattern cool_example name=UseFolderSets
apply_pattern cool_example name=UseLFCLookup
apply_pattern cool_example name=UsePayloadQueries
apply_pattern cool_example name=UseTags

# Fake target for tests
action tests "echo No tests in this package"
macro_remove cmt_actions_constituents "tests"

# Fake target for utilities
action utilities "echo No utilities in this package"
macro_remove cmt_actions_constituents "utilities"
