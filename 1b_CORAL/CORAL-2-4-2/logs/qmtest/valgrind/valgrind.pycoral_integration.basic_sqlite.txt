==xxxxx== Memcheck, a memory error detector
==xxxxx== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==xxxxx== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==xxxxx== Command: python /home/avalassi/CORAL/CORAL_2_3_26/src/../x86_64-slc5-gcc43-dbg/tests/bin/test_PyCoral_Basic.py sqlite
==xxxxx== Parent PID: xxxxx
==xxxxx== 
--xxxxx-- 
--xxxxx-- Valgrind options:
--xxxxx--    -v
--xxxxx--    --leak-check=full
--xxxxx--    --show-reachable=yes
--xxxxx--    --error-limit=no
--xxxxx--    --log-file=/home/avalassi/CORAL/CORAL_2_3_26/src/logs/qmtest/valgrind/x86_64-slc5-gcc43-dbg/valgrind.pycoral_integration.basic_sqlite.txt
--xxxxx--    --suppressions=/home/avalassi/CORAL/CORAL_2_3_26/src/config/qmtest/valgrind.supp
--xxxxx--    --gen-suppressions=all
--xxxxx--    --num-callers=50
--xxxxx--    --track-origins=yes
--xxxxx-- Contents of /proc/version:
--xxxxx--   Linux version 2.6.18-308.20.1.el5 (mockbuild@lxdist03) (gcc version 4.1.2 20080704 (Red Hat 4.1.2-52)) #1 SMP Wed Nov 14 10:31:58 CET 2012
--xxxxx-- Arch and hwcaps: AMD64, amd64-sse3-cx16
--xxxxx-- Page sizes: currently 4096, max supported 4096
--xxxxx-- Valgrind library directory: /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Python/2.6.5p2/x86_64-slc5-gcc43-opt/bin/python (0x400000)
--xxxxx-- Reading syms from /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/memcheck-amd64-linux (0x38000000)
--xxxxx--    object doesn't have a dynamic symbol table
--xxxxx-- Reading syms from /lib64/ld-2.5.so (0x3026000000)
--xxxxx-- Reading suppressions file: /home/avalassi/CORAL/CORAL_2_3_26/src/config/qmtest/valgrind.supp
--xxxxx-- Reading suppressions file: /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/default.supp
==xxxxx== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-xxxxx-by-avalassi-on-lxmrra5001.cern.ch
==xxxxx== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-xxxxx-by-avalassi-on-lxmrra5001.cern.ch
==xxxxx== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-xxxxx-by-avalassi-on-lxmrra5001.cern.ch
==xxxxx== 
==xxxxx== TO CONTROL THIS PROCESS USING vgdb (which you probably
==xxxxx== don't want to do, unless you know exactly what you're doing,
==xxxxx== or are doing some strange experiment):
==xxxxx==   /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/../../bin/vgdb --pid=xxxxx ...command...
==xxxxx== 
==xxxxx== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==xxxxx==   /path/to/gdb python
==xxxxx== and then give GDB the following command
==xxxxx==   target remote | /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/../../bin/vgdb --pid=xxxxx
==xxxxx== --pid is optional if only one valgrind process is running
==xxxxx== 
--xxxxx-- REDIR: 0x3026014730 (strlen) redirected to 0x38045f87 (vgPlain_amd64_linux_REDIR_FOR_strlen)
--xxxxx-- Reading syms from /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/vgpreload_core-amd64-linux.so (0x4803000)
--xxxxx-- Reading syms from /afs/cern.ch/sw/lcg/external/valgrind/3.7.0p1/x86_64-slc5-gcc43-opt/lib/valgrind/vgpreload_memcheck-amd64-linux.so (0x4a05000)
--xxxxx-- REDIR: 0x3026014550 (index) redirected to 0x4a09690 (index)
--xxxxx-- REDIR: 0x3026014700 (strcmp) redirected to 0x4a09ff0 (strcmp)
--xxxxx-- Reading syms from /lib64/libpthread-2.5.so (0x3027400000)
--xxxxx-- Reading syms from /lib64/libdl-2.5.so (0x3027000000)
--xxxxx-- Reading syms from /lib64/libutil-2.5.so (0x302fc00000)
--xxxxx-- Reading syms from /lib64/libm-2.5.so (0x3026800000)
--xxxxx-- Reading syms from /lib64/libc-2.5.so (0x3026400000)
--xxxxx-- REDIR: 0x3026479b80 (memset) redirected to 0x4a0b550 (memset)
--xxxxx-- REDIR: 0x302647afc0 (memcpy) redirected to 0x4a0a610 (memcpy)
--xxxxx-- REDIR: 0x3026478cc0 (rindex) redirected to 0x4a09480 (rindex)
--xxxxx-- REDIR: 0x30264788d0 (strlen) redirected to 0x4a09a10 (strlen)
--xxxxx-- REDIR: 0x3026478b50 (strncmp) redirected to 0x4a09e50 (strncmp)
--xxxxx-- REDIR: 0x3026473b40 (malloc) redirected to 0x4a08689 (malloc)
--xxxxx-- REDIR: 0x3026474060 (realloc) redirected to 0x4a0873a (realloc)
--xxxxx-- REDIR: 0x30264715f0 (free) redirected to 0x4a08299 (free)
--xxxxx-- REDIR: 0x3026479090 (strstr) redirected to 0x4a0ba70 (strstr)
--xxxxx-- REDIR: 0x30264793c0 (memchr) redirected to 0x4a0a0b0 (memchr)
--xxxxx-- REDIR: 0x302647bc20 (rawmemchr) redirected to 0x4a0b870 (rawmemchr)
--xxxxx-- REDIR: 0x30264781a0 (index) redirected to 0x4a09550 (index)
--xxxxx-- REDIR: 0x30264789c0 (strnlen) redirected to 0x4a09990 (strnlen)
--xxxxx-- REDIR: 0x302647a6b0 (mempcpy) redirected to 0x4a0b8b0 (mempcpy)
--xxxxx-- REDIR: 0x3026478c10 (strncpy) redirected to 0x4a09bf0 (strncpy)
--xxxxx-- REDIR: 0x3026478390 (strcpy) redirected to 0x4a09a50 (strcpy)
--xxxxx-- REDIR: 0x3026477fe0 (strcat) redirected to 0x4a096d0 (strcat)
--xxxxx-- REDIR: 0x3026478ab0 (strncat) redirected to 0x4a09890 (strncat)
--xxxxx-- REDIR: 0x3026478350 (strcmp) redirected to 0x4a09f30 (strcmp)
--xxxxx-- REDIR: 0x30264799e0 (memmove) redirected to 0x4a0b5f0 (memmove)
--xxxxx-- REDIR: 0x302647acc0 (stpcpy) redirected to 0x4a0b210 (stpcpy)
--xxxxx-- REDIR: 0x302647bd70 (strchrnul) redirected to 0x4a0b840 (strchrnul)
--xxxxx-- REDIR: 0x3026473760 (calloc) redirected to 0x4a0794e (calloc)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Python/2.6.5p2/x86_64-slc5-gcc43-opt/lib/python2.6/lib-dynload/time.so (0x89f8000)
--xxxxx-- REDIR: 0xffffffffff600400 (???) redirected to 0x38045f7d (vgPlain_amd64_linux_REDIR_FOR_vtime)
--xxxxx-- REDIR: 0x3026432b50 (putenv) redirected to 0x4a0bc20 (putenv)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_PyCoral.so (0x8bfd000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralCommon.so (0x8c72000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralKernel.so (0x8ce8000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_RelationalAccess.so (0x8d26000)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_CoralBase.so (0x8d67000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Boost/1.48.0_python2.6/x86_64-slc5-gcc43-opt/lib/libboost_filesystem-gcc43-mt-1_48.so.1.48.0 (0x8ddc000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Boost/1.48.0_python2.6/x86_64-slc5-gcc43-opt/lib/libboost_date_time-gcc43-mt-1_48.so.1.48.0 (0x8ffa000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Boost/1.48.0_python2.6/x86_64-slc5-gcc43-opt/lib/libboost_system-gcc43-mt-1_48.so.1.48.0 (0x920a000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Boost/1.48.0_python2.6/x86_64-slc5-gcc43-opt/lib/libboost_thread-gcc43-mt-1_48.so.1.48.0 (0x940d000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/Python/2.6.5p2/x86_64-slc5-gcc43-opt/lib/libpython2.6.so.1.0 (0x9626000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/gcc/4.3.6/x86_64-slc5/lib64/libstdc++.so.6.0.10 (0x99df000)
--xxxxx--    object doesn't have a symbol table
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/gcc/4.3.6/x86_64-slc5/lib64/libgcc_s.so.1 (0x9ce5000)
--xxxxx--    object doesn't have a symbol table
--xxxxx-- Reading syms from /lib64/librt-2.5.so (0x3027800000)
--xxxxx-- REDIR: 0x9a9f950 (operator new(unsigned long)) redirected to 0x4a08fa2 (operator new(unsigned long))
--xxxxx-- REDIR: 0x9a9e1a0 (operator delete(void*)) redirected to 0x4a07fab (operator delete(void*))
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_ConnectionService.so (0x9efb000)
--xxxxx-- REDIR: 0xffffffffff600000 (???) redirected to 0x38045f73 (vgPlain_amd64_linux_REDIR_FOR_vgettimeofday)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_RelationalService.so (0x9f92000)
--xxxxx-- REDIR: 0x3026015880 (stpcpy) redirected to 0x4a0b480 (stpcpy)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_XMLLookupService.so (0x9fb9000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/XercesC/3.1.1p1/x86_64-slc5-gcc43-opt/lib/libxerces-c-3.1.so (0x9feb000)
--xxxxx-- REDIR: 0x3026479540 (bcmp) redirected to 0x4a0b190 (bcmp)
--xxxxx-- Reading syms from /usr/lib64/gconv/UTF-16.so (0xa5aa000)
--xxxxx--    object doesn't have a symbol table
--xxxxx-- REDIR: 0x302647ae60 (strcasecmp) redirected to 0x4a0c150 (strcasecmp)
--xxxxx-- REDIR: 0x3026473d70 (memalign) redirected to 0x4a0782d (memalign)
--xxxxx-- Reading syms from /home/avalassi/CORAL/CORAL_2_3_26/x86_64-slc5-gcc43-dbg/lib/liblcg_SQLiteAccess.so (0xa7ad000)
--xxxxx-- Reading syms from /cvmfs/sft.cern.ch/lcg/external/sqlite/3070900/x86_64-slc5-gcc43-opt/lib/libsqlite3.so.0.8.6 (0xa8ce000)
--xxxxx-- REDIR: 0x9a9fa80 (operator new[](unsigned long)) redirected to 0x4a08c1a (operator new[](unsigned long))
--xxxxx-- REDIR: 0x9a9e1e0 (operator delete[](void*)) redirected to 0x4a07c27 (operator delete[](void*))
--xxxxx-- Discarding syms at 0xa5aa560-0xa5abcd8 in /usr/lib64/gconv/UTF-16.so due to munmap()
==xxxxx== 
==xxxxx== HEAP SUMMARY:
==xxxxx==     in use at exit: 1,655,585 bytes in 715 blocks
==xxxxx==   total heap usage: 47,093 allocs, 46,378 frees, 10,488,245 bytes allocated
==xxxxx== 
==xxxxx== Searching for pointers to 715 not-freed blocks
==xxxxx== Checked 3,097,872 bytes
==xxxxx== 
==xxxxx== 16 bytes in 1 blocks are still reachable in loss record 3 of 474
==xxxxx==    at 0x4A078D6: memalign (vg_replace_malloc.c:694)
==xxxxx==    by 0x3026010040: __tls_get_addr (in /lib64/ld-2.5.so)
==xxxxx==    by 0x9A9E94B: __cxa_get_globals (in /cvmfs/sft.cern.ch/lcg/external/gcc/4.3.6/x86_64-slc5/lib64/libstdc++.so.6.0.10)
==xxxxx==    by 0x9A9E49B: __cxa_allocate_exception (in /cvmfs/sft.cern.ch/lcg/external/gcc/4.3.6/x86_64-slc5/lib64/libstdc++.so.6.0.10)
==xxxxx==    by 0xA1CC3FC: xercesc_3_1::ReaderMgr::popReader() (ReaderMgr.cpp:1083)
==xxxxx==    by 0xA1CC649: xercesc_3_1::ReaderMgr::peekNextChar() (ReaderMgr.cpp:166)
==xxxxx==    by 0xA1E633D: xercesc_3_1::XMLScanner::senseNextToken(unsigned long&) (XMLScanner.cpp:1885)
==xxxxx==    by 0xA1BFD04: xercesc_3_1::IGXMLScanner::scanContent() (IGXMLScanner.cpp:831)
==xxxxx==    by 0xA1BFFF7: xercesc_3_1::IGXMLScanner::scanDocument(xercesc_3_1::InputSource const&) (IGXMLScanner.cpp:217)
==xxxxx==    by 0xA1E4E9A: xercesc_3_1::XMLScanner::scanDocument(unsigned short const*) (XMLScanner.cpp:400)
==xxxxx==    by 0xA1E83B1: xercesc_3_1::XMLScanner::scanDocument(char const*) (XMLScanner.cpp:408)
==xxxxx==    by 0xA208655: xercesc_3_1::AbstractDOMParser::parse(char const*) (AbstractDOMParser.cpp:601)
==xxxxx==    by 0x9FD6062: coral::XMLLookupService::XMLLookupService::initialize() (XMLLookupService.cpp:94)
==xxxxx==    by 0x9FD7820: coral::XMLLookupService::XMLLookupService::lookup(std::string const&, coral::AccessMode, std::string) const (XMLLookupService.cpp:247)
==xxxxx==    by 0x9F64E20: coral::ConnectionService::ReplicaCatalogue::getReplicas(std::string const&, coral::AccessMode) const (ReplicaCatalogue.cpp:108)
==xxxxx==    by 0x9F515B7: coral::ConnectionService::ConnectionPool::getValidSession(std::string const&, std::string const&, coral::AccessMode, coral::ICertificateData const*) (ConnectionPool.cpp:264)
==xxxxx==    by 0x9F6CA39: coral::ConnectionService::SessionProxy::open(coral::ICertificateData const*) (SessionProxy.cpp:98)
==xxxxx==    by 0x9F603FA: coral::ConnectionService::ConnectionService::connect(std::string const&, coral::AccessMode, coral::ICertificateData const*) (ConnectionService.cpp:49)
==xxxxx==    by 0x9F61794: coral::ConnectionService::ConnectionService::connect(std::string const&, coral::AccessMode) (ConnectionService.h:41)
==xxxxx==    by 0x8D476EA: coral::ConnectionService::connect(std::string const&, coral::AccessMode) (ConnectionService.cpp:66)
==xxxxx==    by 0x8C2A12F: ConnectionService_connect(_object*, _object*, _object*) (ConnectionService.cpp:439)
==xxxxx==    by 0x49634C: PyEval_EvalFrameEx (ceval.c:3750)
==xxxxx==    by 0x497579: PyEval_EvalFrameEx (ceval.c:3836)
==xxxxx==    by 0x497FE8: PyEval_EvalCodeEx (ceval.c:3000)
==xxxxx==    by 0x498161: PyEval_EvalCode (ceval.c:541)
==xxxxx==    by 0x4B7F39: PyRun_FileExFlags (pythonrun.c:1339)
==xxxxx==    by 0x4B822C: PyRun_SimpleFileExFlags (pythonrun.c:935)
==xxxxx==    by 0x41506A: Py_Main (main.c:572)
==xxxxx==    by 0x302641D993: (below main) (in /lib64/libc-2.5.so)
==xxxxx== 
{
   <insert_a_suppression_name_here>
   Memcheck:Leak
   fun:memalign
   fun:__tls_get_addr
   fun:__cxa_get_globals
   fun:__cxa_allocate_exception
   fun:_ZN11xercesc_3_19ReaderMgr9popReaderEv
   fun:_ZN11xercesc_3_19ReaderMgr12peekNextCharEv
   fun:_ZN11xercesc_3_110XMLScanner14senseNextTokenERm
   fun:_ZN11xercesc_3_112IGXMLScanner11scanContentEv
   fun:_ZN11xercesc_3_112IGXMLScanner12scanDocumentERKNS_11InputSourceE
   fun:_ZN11xercesc_3_110XMLScanner12scanDocumentEPKt
   fun:_ZN11xercesc_3_110XMLScanner12scanDocumentEPKc
   fun:_ZN11xercesc_3_117AbstractDOMParser5parseEPKc
   fun:_ZN5coral16XMLLookupService16XMLLookupService10initializeEv
   fun:_ZNK5coral16XMLLookupService16XMLLookupService6lookupERKSsNS_10AccessModeESs
   fun:_ZNK5coral17ConnectionService16ReplicaCatalogue11getReplicasERKSsNS_10AccessModeE
   fun:_ZN5coral17ConnectionService14ConnectionPool15getValidSessionERKSsS3_NS_10AccessModeEPKNS_16ICertificateDataE
   fun:_ZN5coral17ConnectionService12SessionProxy4openEPKNS_16ICertificateDataE
   fun:_ZN5coral17ConnectionService17ConnectionService7connectERKSsNS_10AccessModeEPKNS_16ICertificateDataE
   fun:_ZN5coral17ConnectionService17ConnectionService7connectERKSsNS_10AccessModeE
   fun:_ZN5coral17ConnectionService7connectERKSsNS_10AccessModeE
   fun:_ZL25ConnectionService_connectP7_objectS0_S0_
   fun:PyEval_EvalFrameEx
   fun:PyEval_EvalFrameEx
   fun:PyEval_EvalCodeEx
}
==xxxxx== LEAK SUMMARY:
==xxxxx==    definitely lost: 0 bytes in 0 blocks
==xxxxx==    indirectly lost: 0 bytes in 0 blocks
==xxxxx==      possibly lost: 0 bytes in 0 blocks
==xxxxx==    still reachable: 16 bytes in 1 blocks
==xxxxx==         suppressed: 1,655,569 bytes in 714 blocks
==xxxxx== 
==xxxxx== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 930 from 136)
--xxxxx-- 
--xxxxx-- used_suppression:     39 <python26_Py_malloc_LEAK>
--xxxxx-- used_suppression:    111 <python26_Py_dictresize_malloc_LEAK>
--xxxxx-- used_suppression:    228 <python26_PyObject_GC_Malloc_malloc_LEAK>
--xxxxx-- used_suppression:      9 <python26_PyImport_dlopen_LEAK>
--xxxxx-- used_suppression:     19 <python26_PyImport_malloc_LEAK>
--xxxxx-- used_suppression:      1 <python26_Py_PyInit_malloc_LEAK>
--xxxxx-- used_suppression:     33 <coral_PluginManager_loadLibrary_dlopen_alloc_FAKE_LEAK>
--xxxxx-- used_suppression:      1 <python26_Py_calculatepath_malloc_LEAK>
--xxxxx-- used_suppression:      3 <python26_Py_realloc_LEAK>
--xxxxx-- used_suppression:     25 <python26_Py_realloc_malloc_LEAK>
--xxxxx-- used_suppression:      1 <python26__Py_realloc_LEAK>
--xxxxx-- used_suppression:      1 <coral_PluginManager_loadLibrary_dlsym_alloc_FAKE_LEAK>
--xxxxx-- used_suppression:      1 <coral_PyCoral_import_LEAK>
--xxxxx-- used_suppression:      1 <python26_Py_strdup_malloc_LEAK>
--xxxxx-- used_suppression:    775 <python26_PyObject_Free_addr4>
--xxxxx-- used_suppression:     13 <python26_PyObject_Free_val8>
--xxxxx-- used_suppression:     13 <python26_PyObject_Free_cond>
--xxxxx-- used_suppression:     35 <python26_PyObject_Realloc_addr4>
--xxxxx-- used_suppression:      5 <python26_PyObject_Realloc_val8>
--xxxxx-- used_suppression:      5 <python26_PyObject_Realloc_cond>
--xxxxx-- used_suppression:     48 dl-hack3
==xxxxx== 
==xxxxx== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 930 from 136)
